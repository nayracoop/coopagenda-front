<div class="container">
  <nav ngbNav class="navbar navbar-default navbar-header row">
    <h1 class="navbar-brand">coopagenda</h1>
    <div ngbNavItem>logged in ? logged-user : third-party-login</div>
  </nav>
  <div class="row">
    <div id="sidebar" placement="right" class="col-2">
      <ngbd-modal *ngIf="user.isAdmin" label="Create Slot" id="createSlot"></ngbd-modal>
      <ngbd-modal label="Create proposal" id="createProposal"></ngbd-modal>
    </div>
    <main class="col-10">
      <div *ngFor="let slot of slots" class="card mb-4 slot">
        <div class="card-header">
          <div class="row">
            <h4 class="col-4">{{slot.begin}}</h4>
            <p class="col-4">{{slot.duration}} minutes</p>
            <ngbd-modal *ngIf="user.isAdmin" 
              label="Edit slot" 
              id="editSlot" 
              class="col-3"
              [slot]="slot"
              ></ngbd-modal>
          </div>
        </div>
        <div class="card-body">
          <div  *ngFor="let proposal of slot.proposals" class="card mb-2 proposal">
            <h5 class="card-title">{{proposal.title}}</h5>
            <ngbd-modal label="View proposal" id="viewProposal" [proposal]="proposal"></ngbd-modal>
            <ngbd-modal label="Edit proposal" id="editProposal" [proposal]="proposal" *ngIf="proposal.user === user.id" ></ngbd-modal>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>